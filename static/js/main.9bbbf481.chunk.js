(this["webpackJsonpimage-sequence-hotspot-position-picker"]=this["webpackJsonpimage-sequence-hotspot-position-picker"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var c,r=n(0),i=n.n(r),a=n(33),o=n.n(a),l=n(15),s=n(5),j=n(12),d=n(14),b=(n(109),n(74)),u=n(86),O=n(85),h=n(172),p=n(156),x=n(157),f=n(158),g=n(159),m=n(160),v=n(150),k=n(164),C=n(165),y=n(166),w=n(181),S=n(182),D=n(124),I=n(152),P=n(168),A=n(183),T=n(151),F=n(184),N=n(185),L=n(186),R=n(187),q=n(188),z=n(175),B=n(189),M=n(176),H=n(173),J=n(169),W=n(162),E=n(190),U=n(191),Y=n(177),_=n(174),G=n(171),X=n(192),K=n(193),Q=n(194),V=n(195),Z=n(196),$=n(167),ee=n(197),te=n(180),ne=n(179),ce=n(198),re=n(4),ie=n(163),ae=n(36),oe=n(26),le=n(148),se=Object(re.a)(te.a,{shouldForwardProp:function(e){return"size"!==e&&"left"!==e&&"top"!==e}})((function(e){var t=e.size,n=e.left,r=e.top,i=e.theme,a=Object(oe.b)(c||(c=Object(ae.a)(["\n    0% {\n      box-shadow: 0 0 0 0 ",";\n    }\n    100% {\n      box-shadow: 0 0 0 1.5rem rgba(0, 0, 0, 0);\n    }\n  "])),Object(le.a)(Object(le.e)(i.palette.primary.main),.2));return Object(d.a)(Object(d.a)({backgroundColor:i.palette.primary.main,borderRadius:"100%",padding:t,position:"absolute",animation:"".concat(a," 1.25s linear infinite")},n&&{left:"".concat(n,"%")}),r&&{top:"".concat(r,"%")})})),je=n(87),de=n(149),be=n(1),ue=["active","inputProps","onOpen"],Oe=Object(re.a)("div")((function(e){return{padding:e.theme.spacing(2)}})),he=Object(re.a)("div",{shouldForwardProp:function(e){return"active"!==e}})((function(e){var t=e.active,n=e.theme;return{borderRadius:1,border:t?"1.75px dotted ".concat(n.palette.primary.main):"1px dotted ".concat(n.palette.divider),transition:n.transitions.create("border"),minHeight:400,justifyContent:"center",alignItems:"center",display:"flex"}})),pe=Object(re.a)(Y.a)((function(e){return{marginTop:e.theme.spacing(2)}})),xe=i.a.forwardRef((function(e,t){var n=e.active,c=e.inputProps,r=e.onOpen,i=Object(je.a)(e,ue);return Object(be.jsxs)(Oe,Object(d.a)(Object(d.a)({ref:t},i),{},{children:[Object(be.jsx)("input",Object(d.a)({type:"file",hidden:!0},c)),Object(be.jsx)(he,{active:n,children:Object(be.jsxs)(de.a,{textAlign:"center",children:[Object(be.jsx)(v.a,{color:"action",fontSize:"large"}),Object(be.jsx)(D.a,{gutterBottom:!0,color:"text.secondary",variant:"subtitle2",children:"Drag and drop image(s)"}),Object(be.jsx)(pe,{onClick:r,color:"primary",variant:"contained",children:"Browse"})]})})]}))})),fe=n(73),ge=n(178),me=n(83),ve=Object(r.createContext)({mode:"light",toggleColorMode:function(){}}),ke=function(e){var t=e.children,n=Object(r.useState)(Object(T.a)("(prefers-color-scheme: dark)")?"dark":"light"),c=Object(j.a)(n,2),i=c[0],a=c[1],o=Object(r.useCallback)((function(){a((function(e){return"light"===e?"dark":"light"}))}),[]),l=Object(r.useMemo)((function(){return Object(fe.a)(function(e){return{palette:Object(d.a)({mode:e},"light"===e?{primary:{main:"#007fff"},secondary:{main:"#9c27b0"}}:{primary:{main:"#5090d3"},secondary:{main:"#ce93d8"},background:{default:"#001e3c",paper:"#0a1929"}}),typography:{fontFamily:["Nunito Sans","Arial"].join(",")},components:{MuiCssBaseline:{styleOverrides:{"*":{msScrollbarFaceColor:me.a[500],msScrollbarShadowColor:me.a[500],msScrollbarDarkshadowColor:me.a[500],msScrollbarTrackColor:Object(le.a)(me.a[500],.4),msScrollbarArrowColor:me.a[500],scrollbarColor:Object(le.a)(me.a[500],.4),scrollbarWidth:"thin","&:hover":{msScrollbarTrackColor:Object(le.a)(me.a[500],.6),scrollbarColor:Object(le.a)(me.a[500],.6)}},"*::-webkit-scrollbar":{width:"0.5rem",height:"0.5rem"},"*::-webkit-scrollbar-button":{width:0,height:0},"*::-webkit-scrollbar-thumb":{backgroundColor:Object(le.a)(me.a[500],.4),borderRadius:4,"&:hover":{backgroundColor:Object(le.a)(me.a[500],.6)}},"*::-webkit-scrollbar-track":{backgroundColor:"unset"}}}}}}(i))}),[i]),s={mode:i,toggleColorMode:o};return Object(be.jsx)(ve.Provider,{value:s,children:Object(be.jsx)(ge.a,{theme:l,children:t})})},Ce=function(){var e=Object(r.useContext)(ve),t=e.mode,n=e.toggleColorMode;return Object(be.jsx)(w.a,{sx:{backgroundColor:function(e){return"dark"===t?e.palette.background.default:e.palette.primary.main}},children:Object(be.jsxs)(S.a,{sx:{justifyContent:"space-between",alignItems:"center"},children:[Object(be.jsx)(D.a,{variant:"subtitle1",children:"Image Sequence Hotspot Position Picker"}),Object(be.jsxs)(I.a,{spacing:1,direction:"row",children:[Object(be.jsx)(P.a,{title:"Turn ".concat("light"===t?"off":"on"," the light"),children:Object(be.jsx)(A.a,{color:"inherit",onClick:n,children:"light"===t?Object(be.jsx)(p.a,{}):Object(be.jsx)(x.a,{})})}),Object(be.jsx)(P.a,{title:"GitHub repository",children:Object(be.jsx)(A.a,{color:"inherit",href:"https://github.com/junwen-k/image-sequence-hotspot-position-picker/tree/main",target:"_blank",rel:"noreferrer noopener",children:Object(be.jsx)(f.a,{})})})]})]})})},ye=function(e){var t=e.activeImageID,n=e.positions,c=e.onCodeOpen,r=e.onDeleteAll,i=e.onSwitchChange,a=e.onInputChange,o=e.onDelete,l=Object(T.a)((function(e){return e.breakpoints.down("md")}));return Object(be.jsx)(F.a,{component:"aside",sx:Object(d.a)(Object(d.a)({},l?{borderTop:function(e){return"1px solid ".concat(e.palette.divider)}}:{borderLeft:function(e){return"1px solid ".concat(e.palette.divider)}}),{},{background:function(e){return e.palette.background.paper},height:"100%",maxHeight:l?void 0:750}),children:Object(be.jsxs)(N.a,{stickyHeader:!0,size:"small",children:[Object(be.jsx)(L.a,{children:Object(be.jsxs)(R.a,{children:[Object(be.jsx)(q.a,{sx:{background:function(e){return e.palette.background.paper}},children:Object(be.jsx)(P.a,{title:"JSON",children:Object(be.jsx)(A.a,{onClick:c,children:Object(be.jsx)(g.a,{})})})}),Object(be.jsx)(q.a,{sx:{background:function(e){return e.palette.background.paper}},align:"right",children:Object(be.jsx)(z.a,{children:"Left (%)"})}),Object(be.jsx)(q.a,{sx:{background:function(e){return e.palette.background.paper}},align:"right",children:Object(be.jsx)(z.a,{children:"Top (%)"})}),Object(be.jsx)(q.a,{sx:{background:function(e){return e.palette.background.paper}},children:Object(be.jsx)(P.a,{title:"Delete All",children:Object(be.jsx)(A.a,{onClick:r,children:Object(be.jsx)(m.a,{})})})})]})}),Object(be.jsx)(B.a,{children:Object.entries(n).map((function(e){var n,c,r=Object(j.a)(e,2),l=r[0],s=r[1];return Object(be.jsxs)(R.a,{hover:!0,children:[Object(be.jsx)(q.a,{children:Object(be.jsx)(M.a,{value:l,checked:t===l,onChange:i})}),Object(be.jsx)(q.a,{align:"right",children:Object(be.jsx)(H.a,{fullWidth:!0,inputProps:{min:0,max:100,step:.01,style:{textAlign:"right"}},name:"left",type:"number",placeholder:"0.00",onChange:function(e){return a(e,l)},value:null!==(n=s.left)&&void 0!==n?n:0})}),Object(be.jsx)(q.a,{align:"right",children:Object(be.jsx)(H.a,{fullWidth:!0,inputProps:{min:0,max:100,step:.01,style:{textAlign:"right"}},name:"top",type:"number",placeholder:"0.00",onChange:function(e){return a(e,l)},value:null!==(c=s.top)&&void 0!==c?c:0})}),Object(be.jsx)(q.a,{children:Object(be.jsx)(P.a,{title:"Delete",children:Object(be.jsx)(A.a,{onClick:function(e){return o(e,l)},children:Object(be.jsx)(m.a,{})})})})]},l)}))})]})})},we=function(e){var t=e.open,n=e.onClose,c=e.onConfirm;return Object(be.jsxs)(J.a,{fullWidth:!0,onClose:n,open:t,children:[Object(be.jsx)(W.a,{children:"Delete All"}),Object(be.jsxs)(E.a,{dividers:!0,children:[Object(be.jsx)(D.a,{children:"Are you sure you want to delete all images?"}),Object(be.jsx)(D.a,{variant:"caption",color:"text.secondary",children:"*You cannot undo this action"})]}),Object(be.jsxs)(U.a,{children:[Object(be.jsx)(Y.a,{onClick:n,color:"primary",children:"Cancel"}),Object(be.jsx)(Y.a,{onClick:c,color:"primary",children:"Confirm"})]})]})},Se=function(e){var t=e.open,n=e.onClose;return Object(be.jsx)(_.a,{autoHideDuration:6e3,open:t,onClose:function(e,t){return"clickaway"!==t&&n()},children:Object(be.jsx)(G.a,{onClose:n,children:"Successfully copied to clipboard"})})},De=function(e){var t=e.children,n=e.title;return Object(be.jsxs)(ie.a,{component:"section",my:4,children:[Object(be.jsx)(D.a,{gutterBottom:!0,variant:"h5",sx:{fontWeight:"bold"},children:n}),t]})},Ie=function(){return Object(be.jsx)(ie.a,{component:"footer",textAlign:"center",p:2,children:Object(be.jsxs)(D.a,{variant:"caption",color:"text.secondary",children:["v","0.1.1"]})})},Pe=Object(re.a)("img")({maxWidth:"100%",cursor:"crosshair"}),Ae=Object(re.a)("div")({display:"flex",position:"relative"}),Te=Object(re.a)("div")((function(e){return{display:"flex",justifyContent:"center",alignItems:"center",padding:e.theme.spacing(1)}})),Fe=Object(re.a)("div")((function(e){return{padding:e.theme.spacing(2),minHeight:400,display:"flex",alignItems:"center",justifyContent:"center"}})),Ne=function(){return Object(be.jsx)(Fe,{children:Object(be.jsxs)(ie.a,{textAlign:"center",children:[Object(be.jsx)(v.a,{color:"action",fontSize:"large"}),Object(be.jsx)(D.a,{gutterBottom:!0,color:"text.secondary",variant:"subtitle2",children:"Select an image from the carousel below to begin"})]})})},Le=function(e){var t=e.activeImageID,n=e.images,c=e.inputProps,r=e.onChange,i=Object(T.a)((function(e){return e.breakpoints.down("md")}));return Object(be.jsxs)(I.a,{spacing:2,direction:"row",sx:{p:2,overflow:"auto"},children:[n.map((function(e){return Object(be.jsx)(X.a,{variant:"outlined",title:e.file.name,sx:Object(d.a)({flex:"0 0 ".concat(i?33.34:16.67,"%")},t===e.id&&{border:function(e){return"1px solid ".concat(e.palette.primary.main)}}),children:Object(be.jsxs)(K.a,{onClick:function(){return r(e.id)},children:[Object(be.jsx)(Q.a,{component:"img",image:e.imgSrc,alt:e.file.name}),Object(be.jsx)(V.a,{sx:{textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:Object(be.jsx)(D.a,{variant:"caption",color:"text.secondary",children:e.file.name})})]})},e.id)})),Object(be.jsx)(X.a,{variant:"outlined",title:"Add",sx:{flex:"0 0 ".concat(i?33.34:16.67,"%")},children:Object(be.jsxs)(K.a,{component:"label",sx:{display:"flex",alignItems:"center",height:"100%"},children:[Object(be.jsx)("input",Object(d.a)({type:"file",hidden:!0},c)),Object(be.jsx)(k.a,{fontSize:"large",color:"action"})]})})]})},Re=Object(re.a)("pre")((function(e){var t=e.theme;return{fontSize:t.typography.pxToRem(10),margin:0,padding:t.spacing(2)}}));var qe=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)({}),a=Object(j.a)(i,2),o=a[0],p=a[1],x=Object(r.useState)(),f=Object(j.a)(x,2),g=f[0],m=f[1],v=Object(r.useState)({codeDialog:!1,copySnackbar:!1,deleteDialog:!1}),k=Object(j.a)(v,2),w=k[0],I=k[1],T=function(e,t){return I((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},e,t))}))};Object(u.a)((function(e){n.length&&e.preventDefault()}));var F=Object(r.useCallback)((function(e){var t,n=e.map((function(e){return{id:Object(h.a)(),file:e,imgSrc:URL.createObjectURL(e)}}));c((function(e){return[].concat(Object(l.a)(e),Object(l.a)(n))})),m(null===(t=n[0])||void 0===t?void 0:t.id);var r=n.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t.id,{left:void 0,top:void 0}))}),{});p((function(e){return Object(d.a)(Object(d.a)({},e),r)}))}),[]),N=Object(O.a)({accept:"image/*",onDrop:F,noClick:!0}),L=N.open,R=N.getRootProps,q=N.getInputProps,z=N.isDragActive,B=function(){var e=n.findIndex((function(e){return g===e.id}));e>-1&&e>0&&m(n[e-1].id)},M=function(){var e=n.findIndex((function(e){return g===e.id}));e>-1&&e<n.length-1&&m(n[e+1].id)},H=0===n.findIndex((function(e){return e.id===g})),_=n.findIndex((function(e){return e.id===g}))===n.length-1,G=n.find((function(e){return e.id===g}));return Object(be.jsx)("main",{children:Object(be.jsxs)(ke,{children:[Object(be.jsx)($.a,{enableColorScheme:!0}),Object(be.jsx)(Ce,{}),Object(be.jsx)(S.a,{}),Object(be.jsx)(we,{open:w.deleteDialog,onClose:function(){return T("deleteDialog",!1)},onConfirm:function(){T("deleteDialog",!1),c([]),p({})}}),Object(be.jsxs)(J.a,{scroll:"paper",fullWidth:!0,onClose:function(){return T("codeDialog",!1)},open:w.codeDialog,children:[Object(be.jsx)(W.a,{children:"JSON"}),Object(be.jsx)(E.a,{sx:{p:0},children:Object(be.jsx)(b.a,Object(d.a)(Object(d.a)({},b.b),{},{code:JSON.stringify(Object.values(o),null,2),language:"json",children:function(e){var t=e.className,n=e.style,c=e.tokens,r=e.getLineProps,i=e.getTokenProps;return Object(be.jsx)(Re,{className:t,style:n,children:c.map((function(e,t){return Object(be.jsx)("div",Object(d.a)(Object(d.a)({},r({line:e,key:t})),{},{children:e.map((function(e,t){return Object(be.jsx)("span",Object(d.a)({},i({token:e,key:t})))}))}))}))})}}))}),Object(be.jsxs)(U.a,{children:[Object(be.jsx)(Y.a,{onClick:function(){window.navigator.clipboard.writeText(JSON.stringify(Object.values(o),null,2)),T("copySnackbar",!0)},color:"primary",children:"Copy"}),Object(be.jsx)(Y.a,{onClick:function(){return T("codeDialog",!1)},color:"primary",children:"Close"})]})]}),Object(be.jsx)(Se,{open:w.copySnackbar,onClose:function(){return T("copySnackbar",!1)}}),Object(be.jsxs)(ee.a,{children:[Object(be.jsx)(te.a,{variant:"outlined",sx:{my:4},children:n.length?Object(be.jsxs)(ne.a,{container:!0,children:[Object(be.jsxs)(ne.a,{item:!0,xs:12,md:8,children:[G?function(e){return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsxs)(Ae,{children:[Object(be.jsx)(Pe,{alt:e.file.name,onMouseDown:function(t){return function(e,t){var n=e.target.getBoundingClientRect(),c=e.clientX-6-n.left,r=e.clientY-6-n.top,i=+(c/n.width*100).toFixed(2),a=+(r/n.height*100).toFixed(2);p((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t.id,{left:i,top:a}))}))}(t,e)},src:e.imgSrc}),(t=e.id,o[t]&&o[t].left&&o[t].top&&Object(be.jsx)(P.a,{title:JSON.stringify(o[e.id]),children:Object(be.jsx)(se,{size:6,left:o[e.id].left,top:o[e.id].top})}))]}),Object(be.jsx)(Z.a,{}),Object(be.jsxs)(Te,{children:[Object(be.jsx)(P.a,{title:"Previous",children:Object(be.jsx)("span",{children:Object(be.jsx)(A.a,{disabled:H,onClick:B,children:Object(be.jsx)(C.a,{})})})}),Object(be.jsx)(D.a,{variant:"caption",color:"text.secondary",sx:{mx:2},children:e.file.name}),Object(be.jsx)(P.a,{title:"Next",children:Object(be.jsx)("span",{children:Object(be.jsx)(A.a,{disabled:_,onClick:M,children:Object(be.jsx)(y.a,{})})})})]})]});var t}(G):Object(be.jsx)(Ne,{}),Object(be.jsx)(Z.a,{}),Object(be.jsx)(Le,{activeImageID:g,images:n,inputProps:q(),onChange:function(e){return m(e)}})]}),Object(be.jsx)(ne.a,{item:!0,xs:12,md:4,children:Object(be.jsx)(ye,{activeImageID:g,positions:o,onCodeOpen:function(){return T("codeDialog",!0)},onDeleteAll:function(){return T("deleteDialog",!0)},onSwitchChange:function(e){return m(e.target.value)},onInputChange:function(e,t){p((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},t,Object(d.a)(Object(d.a)({},n[t]),{},Object(s.a)({},e.target.name,Number(e.target.value)))))}))},onDelete:function(e,t){return function(e){e===g&&m(void 0),c((function(t){var n=Object(l.a)(t),c=n.findIndex((function(t){return t.id===e}));return c>-1&&n.splice(c,1),n})),p((function(t){var n=Object(d.a)({},t);return delete n[e],n}))}(t)}})})]}):Object(be.jsx)(xe,Object(d.a)(Object(d.a)({},R()),{},{active:z,inputProps:q(),onOpen:L}))}),Object(be.jsx)(De,{title:"About",children:Object(be.jsx)(D.a,{variant:"subtitle1",children:'This little tool is built to ease the process of marking "hotspot(s)" for an image sequence. E.g, a hotspot that changes its position based on the current frame of the image sequence. The computed values are nothing more than plain parent relative with children absolute positioning in percentage (%). The position array is mapped based on the sequence of the images.'})}),Object(be.jsx)(De,{title:"License",children:Object(be.jsx)(ce.a,{href:"".concat("https://github.com/junwen-k/image-sequence-hotspot-position-picker/tree/main","/LICENSE.txt"),target:"_blank",rel:"noreferrer noopener",children:"MIT"})}),Object(be.jsx)(Z.a,{}),Object(be.jsx)(Ie,{})]})]})})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,199)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};o.a.render(Object(be.jsx)(i.a.StrictMode,{children:Object(be.jsx)(qe,{})}),document.getElementById("root")),ze()}},[[115,1,2]]]);
//# sourceMappingURL=main.9bbbf481.chunk.js.map